<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="ir_cron_appraisal_reminder" model="ir.cron">
        <field name="name">Appraisal: Pending reminder</field>
        <field name="model_id" ref="oh_appraisal.model_hr_appraisal"/>
        <field name="state">code</field>
        <field name="code">
            model.env['hr.appraisal'].search([('state','!=','done'),('stage_id','!=',False)]).sudo().mapped('id') and model.env['hr.appraisal'].search([('state','!=','done'),('stage_id','!=',False)]).sudo()._cron_send_reminders() or None
        </field>
        <field name="interval_number">1</field>
        <field name="interval_type">days</field>
        <field name="nextcall">2025-09-26 08:00:00</field> <!-- first run, set a future datetime -->
        <field name="active">True</field>
    </record>
</odoo>
